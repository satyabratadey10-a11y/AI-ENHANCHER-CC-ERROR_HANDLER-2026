/* --- CORE SYSTEM --- */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
:root { --bg: #050505; --panel: #111; --border: #333; --neon: #00f5ff; --zeiss: #0072e3; --radius: 16px; }
body { font-family: 'DM Sans', sans-serif; background: var(--bg); color: #fff; height: 100vh; overflow: hidden; display: flex; flex-direction: column; }

/* --- HEADER --- */
header { padding: 15px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; background: #0a0a0a; z-index: 10; }
.logo { font-family: sans-serif; font-weight: 900; font-size: 1.2rem; background: linear-gradient(to right, #fff, var(--neon)); -webkit-background-clip: text; color: transparent; }
.badge { font-size: 0.6em; background: var(--zeiss); padding: 2px 6px; border-radius: 4px; color: #fff; margin-left: 5px; vertical-align: middle; }

/* --- WORKSPACE --- */
#workspace { flex: 1; position: relative; overflow: hidden; background: #000; touch-action: none; display: flex; align-items: center; justify-content: center; }
#emptyState { text-align: center; color: #666; pointer-events: none; }
.upload-btn { pointer-events: auto; padding: 12px 25px; background: rgba(255,255,255,0.1); border: 1px solid var(--neon); color: var(--neon); border-radius: 50px; font-weight: bold; margin-top: 15px; cursor: pointer; display: inline-block;}
#fileInput { display: none; }
canvas { display: none; transform-origin: 0 0; box-shadow: 0 0 50px rgba(0,0,0,0.5); }

/* --- CONTROLS --- */
#controls { height: 45vh; background: var(--panel); border-top: 1px solid var(--border); display: none; flex-direction: column; z-index: 30; }
.tabs { display: flex; background: #000; overflow-x: auto; padding: 5px; }
.tab { padding: 10px 15px; font-size: 0.75em; color: #888; white-space: nowrap; cursor: pointer; border-bottom: 2px solid transparent; font-weight: bold; }
.tab.active { color: var(--neon); border-bottom-color: var(--neon); }
.panel-content { flex: 1; overflow-y: auto; padding: 15px; display: none; }
.panel-content.active { display: block; }

/* --- UI ELEMENTS --- */
.grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
.grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; }
.tool-card { background: #1a1a1a; border: 1px solid #333; border-radius: 10px; padding: 12px; text-align: center; cursor: pointer; }
.tool-card:active { background: #222; border-color: var(--neon); }
.tool-card span { display: block; font-size: 1.5em; margin-bottom: 5px; }
.tool-card label { font-size: 0.7em; font-weight: bold; color: #ccc; }

.slider-row { margin-bottom: 15px; background: #151515; padding: 10px; border-radius: 8px; }
.slider-head { display: flex; justify-content: space-between; margin-bottom: 5px; font-size: 0.75em; color: #aaa; font-weight: bold; }
.slider-val { color: var(--zeiss); }
input[type="range"] { width: 100%; accent-color: var(--neon); height: 4px; background: #333; }

.actions { padding: 15px; background: #0a0a0a; border-top: 1px solid var(--border); display: flex; gap: 10px; }
.btn { flex: 1; padding: 12px; border-radius: 8px; border: none; font-weight: bold; cursor: pointer; font-size: 0.9em; }
.btn-main { background: var(--zeiss); color: #fff; }
.btn-sec { background: #222; color: #ccc; border: 1px solid #444; }

/* --- OVERLAYS --- */
#sysLoader { position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 100; display: none; align-items: center; justify-content: center; flex-direction: column; }
.spinner { width: 50px; height: 50px; border: 4px solid #333; border-top-color: var(--neon); border-radius: 50%; animation: spin 1s linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }
#toast { position: fixed; top: 70px; left: 50%; transform: translateX(-50%); background: rgba(0,245,255,0.2); border: 1px solid var(--neon); color: #fff; padding: 8px 20px; border-radius: 20px; font-size: 0.8em; display: none; z-index: 50; backdrop-filter: blur(5px); }
