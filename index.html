<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
<title>APEX AI â€” Loader</title>
<style>
    body { background: #000; color: #00f5ff; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; font-family: monospace; overflow: hidden; }
    #loader { text-align: center; }
    .bar { width: 200px; height: 4px; background: #333; margin: 10px auto; border-radius: 2px; overflow: hidden; }
    .fill { width: 0%; height: 100%; background: #00f5ff; transition: width 0.3s; }
    #status { font-size: 0.8em; color: #666; margin-top: 5px; }
</style>
</head>
<body>

<div id="loader">
    <h2>APEX AI SYSTEM</h2>
    <div class="bar"><div class="fill" id="fill"></div></div>
    <div id="status">Initializing Network...</div>
</div>

<script>
    const ver = Date.now(); // Unique ID to kill cache
    const update = (w, msg) => {
        document.getElementById('fill').style.width = w + '%';
        document.getElementById('status').innerText = msg;
    };

    async function boot() {
        try {
            // 1. Download CSS
            update(30, 'Downloading Visual Engine...');
            const cssReq = await fetch('style.css?v=' + ver);
            const cssTxt = await cssReq.text();
            const style = document.createElement('style');
            style.textContent = cssTxt;
            document.head.appendChild(style);

            // 2. Download JS
            update(70, 'Downloading Neural Logic...');
            const jsReq = await fetch('app.js?v=' + ver);
            const jsTxt = await jsReq.text();
            const script = document.createElement('script');
            script.textContent = jsTxt;
            document.body.appendChild(script);

            // 3. Complete
            update(100, 'System Ready.');
            setTimeout(() => {
                document.getElementById('loader').style.display = 'none';
            }, 500);

        } catch (e) {
            document.getElementById('status').innerText = "BOOT FAILED: " + e.message;
            document.getElementById('status').style.color = "red";
        }
    }

    boot();
</script>
</body>
</html>
